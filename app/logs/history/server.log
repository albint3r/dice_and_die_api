2024-02-20 15:45:10,977 - server - serve - line:76 - INFO - Started server process [8]
2024-02-20 15:45:10,977 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 15:45:10,978 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 15:45:23,951 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:52310 - "GET /docs" 200 OK 0.72ms
2024-02-20 15:45:24,131 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:52310 - "GET /openapi.json" 200 OK 16.72ms
2024-02-20 15:45:30,263 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:52314 - "GET /v2/error" 200 OK 632.41ms
2024-02-20 15:48:00,540 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 15:48:00,642 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 15:48:00,642 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 15:48:00,643 - server - serve - line:86 - INFO - Finished server process [8]
2024-02-20 15:48:02,972 - server - serve - line:76 - INFO - Started server process [9]
2024-02-20 15:48:02,973 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 15:48:02,974 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 15:48:09,107 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:40618 - "GET /v2/error" 200 OK 485.50ms
2024-02-20 15:48:36,481 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 15:48:36,582 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 15:48:36,583 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 15:48:36,585 - server - serve - line:86 - INFO - Finished server process [9]
2024-02-20 15:48:39,119 - server - serve - line:76 - INFO - Started server process [10]
2024-02-20 15:48:39,119 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 15:48:39,121 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 15:48:39,129 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:42128 - "GET /docs" 200 OK 0.74ms
2024-02-20 15:48:39,571 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:42128 - "GET /openapi.json" 200 OK 25.73ms
2024-02-20 15:48:45,489 - exception_handlers - unhandled_exception_handler - line:52 - ERROR - 172.19.0.1:51924 - "GET /v2/error" 500 Internal Server Error => [Exception: This is Just a Test]
2024-02-20 15:48:46,048 - h11_impl - run_asgi - line:413 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 78, in call_next
    message = await recv_stream.receive()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 98, in receive
    return self.receive_nowait()
  File "/usr/local/lib/python3.10/site-packages/anyio/streams/memory.py", line 91, in receive_nowait
    raise EndOfStream
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/usr/local/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 108, in __call__
    response = await self.dispatch_func(request, call_next)
  File "/dice_and_die_api/app/logs/middleware.py", line 18, in log_request_middleware
    response = await call_next(request)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 84, in call_next
    raise app_exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 70, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
  File "/dice_and_die_api/app/routes/game/game.py", line 27, in error
    raise Exception('This is Just a Test')
Exception: This is Just a Test
2024-02-20 15:58:22,383 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 15:58:22,484 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 15:58:22,484 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 15:58:22,485 - server - serve - line:86 - INFO - Finished server process [10]
2024-02-20 15:58:24,832 - server - serve - line:76 - INFO - Started server process [11]
2024-02-20 15:58:24,832 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 15:58:24,833 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 15:58:59,123 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 15:58:59,224 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 15:58:59,225 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 15:58:59,225 - server - serve - line:86 - INFO - Finished server process [11]
2024-02-20 15:59:01,692 - server - serve - line:76 - INFO - Started server process [12]
2024-02-20 15:59:01,692 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 15:59:01,693 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 15:59:17,937 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 15:59:18,038 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 15:59:18,039 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 15:59:18,039 - server - serve - line:86 - INFO - Finished server process [12]
2024-02-20 15:59:20,853 - server - serve - line:76 - INFO - Started server process [13]
2024-02-20 15:59:20,853 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 15:59:20,854 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 15:59:26,110 - websockets_impl - asgi_send - line:296 - INFO - ('172.19.0.1', 41230) - "WebSocket /v2/error" 403
2024-02-20 15:59:26,111 - server - handler - line:229 - INFO - connection rejected (403 Forbidden)
2024-02-20 15:59:26,112 - server - handler - line:264 - INFO - connection closed
2024-02-20 15:59:45,018 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 15:59:45,119 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 15:59:45,120 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 15:59:45,121 - server - serve - line:86 - INFO - Finished server process [13]
2024-02-20 15:59:47,566 - server - serve - line:76 - INFO - Started server process [14]
2024-02-20 15:59:47,566 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 15:59:47,567 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 15:59:47,570 - websockets_impl - asgi_send - line:296 - INFO - ('172.19.0.1', 38154) - "WebSocket /v2/error" 403
2024-02-20 15:59:47,571 - server - handler - line:229 - INFO - connection rejected (403 Forbidden)
2024-02-20 15:59:47,572 - server - handler - line:264 - INFO - connection closed
2024-02-20 15:59:58,999 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 15:59:59,100 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 15:59:59,101 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 15:59:59,102 - server - serve - line:86 - INFO - Finished server process [14]
2024-02-20 16:00:01,825 - server - serve - line:76 - INFO - Started server process [15]
2024-02-20 16:00:01,826 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:00:01,828 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:00:01,831 - websockets_impl - asgi_send - line:276 - INFO - ('172.19.0.1', 55826) - "WebSocket /v2/error" [accepted]
2024-02-20 16:00:01,832 - server - handshake - line:642 - INFO - connection open
2024-02-20 16:00:13,159 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:00:13,160 - server - handler - line:264 - INFO - connection closed
2024-02-20 16:00:13,261 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:00:13,261 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:00:13,262 - server - serve - line:86 - INFO - Finished server process [15]
2024-02-20 16:00:15,953 - server - serve - line:76 - INFO - Started server process [16]
2024-02-20 16:00:15,953 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:00:15,954 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:00:15,956 - websockets_impl - asgi_send - line:276 - INFO - ('172.19.0.1', 43124) - "WebSocket /v2/error" [accepted]
2024-02-20 16:00:15,957 - websockets_impl - run_asgi - line:251 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 247, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/usr/local/lib/python3.10/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/errors.py", line 149, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/base.py", line 26, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/usr/local/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/usr/local/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 341, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.10/site-packages/starlette/routing.py", line 82, in app
    await func(session)
  File "/usr/local/lib/python3.10/site-packages/fastapi/routing.py", line 325, in app
    await dependant.call(**values)
  File "/dice_and_die_api/app/routes/game/game.py", line 28, in errorweb
    raise Exception('Websocket error')
Exception: Websocket error
2024-02-20 16:00:15,965 - server - handshake - line:642 - INFO - connection open
2024-02-20 16:00:15,967 - server - handler - line:264 - INFO - connection closed
2024-02-20 16:02:59,374 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:02:59,475 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:02:59,476 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:02:59,476 - server - serve - line:86 - INFO - Finished server process [16]
2024-02-20 16:03:01,929 - server - serve - line:76 - INFO - Started server process [17]
2024-02-20 16:03:01,934 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:03:01,935 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:03:33,264 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:03:33,364 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:03:33,365 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:03:33,365 - server - serve - line:86 - INFO - Finished server process [17]
2024-02-20 16:03:35,746 - server - serve - line:76 - INFO - Started server process [18]
2024-02-20 16:03:35,747 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:03:35,748 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:04:02,667 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:51014 - "GET /v2/error-http" 500 Internal Server Error 0.75ms
2024-02-20 16:04:31,310 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:04:31,411 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:04:31,412 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:04:31,413 - server - serve - line:86 - INFO - Finished server process [18]
2024-02-20 16:04:34,273 - server - serve - line:76 - INFO - Started server process [19]
2024-02-20 16:04:34,273 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:04:34,274 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:04:34,281 - exception_handlers - http_exception_handler - line:36 - ERROR - Our custom [http_exception_handler] was called
2024-02-20 16:04:34,283 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:47662 - "GET /v2/error-http" 500 Internal Server Error 1.37ms
2024-02-20 16:05:37,140 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:05:37,241 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:05:37,242 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:05:37,244 - server - serve - line:86 - INFO - Finished server process [19]
2024-02-20 16:05:39,632 - server - serve - line:76 - INFO - Started server process [20]
2024-02-20 16:05:39,633 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:05:39,634 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:06:39,591 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:06:39,691 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:06:39,692 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:06:39,693 - server - serve - line:86 - INFO - Finished server process [20]
2024-02-20 16:06:41,916 - server - serve - line:76 - INFO - Started server process [21]
2024-02-20 16:06:41,916 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:06:41,917 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:06:44,753 - exception_handlers - http_exception_handler - line:44 - ERROR - 172.19.0.1:53794 - "GET /v2/error-http" 500 Internal Server Error => [HTTPException: ]
2024-02-20 16:06:45,180 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:53794 - "GET /v2/error-http" 500 Internal Server Error 427.18ms
2024-02-20 16:07:45,535 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:07:45,637 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:07:45,638 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:07:45,638 - server - serve - line:86 - INFO - Finished server process [21]
2024-02-20 16:07:48,426 - server - serve - line:76 - INFO - Started server process [22]
2024-02-20 16:07:48,427 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:07:48,428 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:07:48,432 - exception_handlers - http_exception_handler - line:44 - ERROR - 172.19.0.1:41046 - "GET /v2/error-http" 500 Internal Server Error => [HTTPException: ] <traceback object at 0x7fe1f8115f80>
2024-02-20 16:07:48,805 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:41046 - "GET /v2/error-http" 500 Internal Server Error 372.70ms
2024-02-20 16:10:55,578 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:10:55,679 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:10:55,680 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:10:55,681 - server - serve - line:86 - INFO - Finished server process [22]
2024-02-20 16:10:58,468 - server - serve - line:76 - INFO - Started server process [23]
2024-02-20 16:10:58,469 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:10:58,470 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:10:58,476 - exception_handlers - http_exception_handler - line:44 - ERROR - 172.19.0.1:60854 - "GET /v2/error-http" 500 Internal Server Error => [HTTPException: ]
2024-02-20 16:10:59,004 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:60854 - "GET /v2/error-http" 500 Internal Server Error 528.31ms
2024-02-20 16:11:32,492 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:11:32,593 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:11:32,594 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:11:32,594 - server - serve - line:86 - INFO - Finished server process [23]
2024-02-20 16:11:34,960 - server - serve - line:76 - INFO - Started server process [24]
2024-02-20 16:11:34,961 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:11:34,962 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:11:36,223 - exception_handlers - http_exception_handler - line:46 - ERROR - 172.19.0.1:54550 - "GET /v2/error-http" 500 Internal Server Error => [HTTPException: ]
2024-02-20 16:11:36,619 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:54550 - "GET /v2/error-http" 500 Internal Server Error 1382.77ms
2024-02-20 16:12:40,193 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:12:40,294 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:12:40,294 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:12:40,295 - server - serve - line:86 - INFO - Finished server process [24]
2024-02-20 16:12:42,675 - server - serve - line:76 - INFO - Started server process [25]
2024-02-20 16:12:42,677 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:12:42,679 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:12:43,466 - exception_handlers - http_exception_handler - line:47 - ERROR - 172.19.0.1:39878 - "GET /v2/error-http" 500 Internal Server Error => [HTTPException: ]
2024-02-20 16:12:43,878 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:39878 - "GET /v2/error-http" 500 Internal Server Error 1193.09ms
2024-02-20 16:13:07,641 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:13:07,742 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:13:07,743 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:13:07,744 - server - serve - line:86 - INFO - Finished server process [25]
2024-02-20 16:13:09,922 - server - serve - line:76 - INFO - Started server process [26]
2024-02-20 16:13:09,923 - on - startup - line:46 - INFO - Waiting for application startup.
2024-02-20 16:13:09,924 - on - startup - line:60 - INFO - Application startup complete.
2024-02-20 16:13:13,233 - exception_handlers - http_exception_handler - line:47 - ERROR - 172.19.0.1:42872 - "GET /v2/error-http" 500 Internal Server Error => [HTTPException: Another test]
2024-02-20 16:13:13,604 - middleware - log_request_middleware - line:29 - INFO - 172.19.0.1:42872 - "GET /v2/error-http" 500 Internal Server Error 1066.35ms
2024-02-20 16:17:38,080 - server - shutdown - line:264 - INFO - Shutting down
2024-02-20 16:17:38,180 - on - shutdown - line:65 - INFO - Waiting for application shutdown.
2024-02-20 16:17:38,181 - on - shutdown - line:76 - INFO - Application shutdown complete.
2024-02-20 16:17:38,182 - server - serve - line:86 - INFO - Finished server process [26]
